"use strict";(self.webpackChunklynn=self.webpackChunklynn||[]).push([[552],{4552:(e,n,t)=>{t.r(n),t.d(n,{default:()=>J});var a=t(5043),s=t(9252),i=t(8911),r=t(4085),o=t(3336),l=t(2073),c=t(9336),A=t(8903),d=t(5865),h=t(1707),u=t(6446),E=t(2110),N=t(6494),m=t(579);function g(e){let{data:n}=e;const t={"Astromagnetic Storm":"AstromagneticStorm.png",Blizzards:"Blizzards.png","Clear Skies":"ClearSkies.png",Clouds:"Clouds.png","Dust Storms":"DustStorms.png","Fair Skies":"FairSkies.png",Fog:"Fog.png",Gales:"Gales.png",Gloom:"Gloom.png","Heat Waves":"HeatWaves.png","Moon Dust":"MoonDust.png",Rain:"Rain.png",Showers:"Showers.png",Snow:"Snow.png",Thunder:"Thunder.png",Thunderstorms:"Thunderstorms.png","Umbral Static":"UmbralStatic.png","Umbral Wind":"UmbralWind.png",Wind:"Wind.png"}[n.condition];return(0,m.jsx)(E.A,{className:"WeatherConditionCard",children:(0,m.jsx)(N.A,{children:(0,m.jsxs)(i.A,{alignItems:"center",children:[(0,m.jsx)(d.A,{children:n.condition}),(0,m.jsx)(u.A,{children:(0,m.jsx)("img",{src:"".concat("","/assets/weathericons/").concat(t),alt:t})}),(0,m.jsx)(d.A,{variant:"h6",children:n.time.toLocaleString("en-US",{hour:"numeric",minute:"numeric"})})]})})})}function S(e){let{data:n}=e;return(0,m.jsx)(o.A,{className:"WeatherForecastResultPaper",variant:"outlined",children:(0,m.jsxs)(i.A,{spacing:2,children:[(0,m.jsxs)(A.Ay,{container:!0,spacing:2,sx:{paddingLeft:4,paddingTop:2,textAlign:"left"},children:[(0,m.jsxs)(A.Ay,{item:!0,xs:!0,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Starting time"}),(0,m.jsx)(d.A,{variant:"h4",children:n.startingTime.toLocaleString("en-US",{weekday:"long",day:"numeric",month:"short",hour:"numeric",minute:"numeric",timeZoneName:"short"})})]}),(0,m.jsxs)(A.Ay,{item:!0,xs:3,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Score"}),(0,m.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold"},children:n.favorability.toFixed(2)})]})]}),(0,m.jsx)(s.A,{children:(0,m.jsx)(c.A,{variant:"middle"})}),(0,m.jsx)(i.A,{className:"WeatherConditionsContainer",direction:"row",spacing:2,divider:(0,m.jsx)(h.A,{fontSize:"large"}),children:n.conditions.map((e=>(0,m.jsx)(g,{data:e},"condition-".concat((0,l.A)()))))})]})})}var _=t(9076);const x=20.571428571428573,O=14e5,T={};T[r.A.ZONE_AMH_ARAENG]="Amh Araeng",T[r.A.ZONE_AZYS_LLA]="Azys Lla",T[r.A.ZONE_BOZJAN_SOUTHERN_FRONT]="The Bozjan Southern Front",T[r.A.ZONE_CENTRAL_SHROUD]="Central Shroud",T[r.A.ZONE_CENTRAL_THANALAN]="Central Thanalan",T[r.A.ZONE_COERTHAS_CENTRAL_HIGHLANDS]="Coerthas Central Highlands",T[r.A.ZONE_COERTHAS_WESTERN_HIGHLANDS]="Coerthas Western Highlands",T[r.A.ZONE_EAST_SHROUD]="East Shroud",T[r.A.ZONE_EASTERN_LA_NOSCEA]="Eastern La Noscea",T[r.A.ZONE_EASTERN_THANALAN]="Eastern Thanalan",T[r.A.ZONE_EULMORE]="Eulmore",T[r.A.ZONE_EUREKA_ANEMOS]="Eureka Anemos",T[r.A.ZONE_EUREKA_PAGOS]="Eureka Pagos",T[r.A.ZONE_EUREKA_PYROS]="Eureka Pyros",T[r.A.ZONE_EUREKA_HYDATOS]="Eureka Hydatos",T[r.A.ZONE_GRIDANIA]="Gridania",T[r.A.ZONE_IDYLLSHIRE]="Idyllshire",T[r.A.ZONE_IL_MHEG]="Il Mheg",T[r.A.ZONE_ISHGARD]="Ishgard",T[r.A.ZONE_KHOLUSIA]="Kholusia",T[r.A.ZONE_KUGANE]="Kugane",T[r.A.ZONE_LAKELAND]="Lakeland",T[r.A.ZONE_LIMSA_LOMINSA]="Limsa Lominsa",T[r.A.ZONE_LOWER_LA_NOSCEA]="Lower La Noscea",T[r.A.ZONE_MIDDLE_LA_NOSCEA]="Middle La Noscea",T[r.A.ZONE_MIST]="Mist",T[r.A.ZONE_MOR_DHONA]="Mor Dhona",T[r.A.ZONE_NORTH_SHROUD]="North Shroud",T[r.A.ZONE_NORTHERN_THANALAN]="Northern Thanalan",T[r.A.ZONE_OUTER_LA_NOSCEA]="Outer La Noscea",T[r.A.ZONE_RHALGRS_REACH]="Rhalgr's Reach",T[r.A.ZONE_SHIROGANE]="Shirogane",T[r.A.ZONE_SOUTH_HORN]="Occult Crescent: South Horn",T[r.A.ZONE_SOUTH_SHROUD]="South Shroud",T[r.A.ZONE_SOUTHERN_THANALAN]="Southern Thanalan",T[r.A.ZONE_THE_AZIM_STEPPE]="The Azim Steppe",T[r.A.ZONE_THE_CHURNING_MISTS]="The Churning Mists",T[r.A.ZONE_THE_CRYSTARIUM]="The Crystarium",T[r.A.ZONE_THE_DIADEM]="The Diadem",T[r.A.ZONE_THE_DRAVANIAN_FORELANDS]="The Dravanian Forelands",T[r.A.ZONE_THE_DRAVANIAN_HINTERLANDS]="The Dravanian Hinterlands",T[r.A.ZONE_THE_FRINGES]="The Fringes",T[r.A.ZONE_THE_GOBLET]="The Goblet",T[r.A.ZONE_THE_LAVENDER_BEDS]="The Lavender Beds",T[r.A.ZONE_THE_LOCHS]="The Lochs",T[r.A.ZONE_THE_PEAKS]="The Peaks",T[r.A.ZONE_THE_RAKTIKA_GREATWOOD]="The Rak'tika Greatwood",T[r.A.ZONE_THE_RUBY_SEA]="The Ruby Sea",T[r.A.ZONE_THE_SEA_OF_CLOUDS]="The Sea of Clouds",T[r.A.ZONE_THE_TEMPEST]="The Tempest",T[r.A.ZONE_ULDAH]="Ul'dah",T[r.A.ZONE_UPPER_LA_NOSCEA]="Upper La Noscea",T[r.A.ZONE_WESTERN_LA_NOSCEA]="Western La Noscea",T[r.A.ZONE_WESTERN_THANALAN]="Western Thanalan",T[r.A.ZONE_WOLVES_DEN_PIER]="Wolves' Den Pier",T[r.A.ZONE_YANXIA]="Yanxia",T[r.A.ZONE_ZADNOR]="Zadnor";const j=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.A.ZONE_BOZJAN_SOUTHERN_FRONT;const a=n.getTime()*x,s=a-a%288e5+1,i=new Date(Math.round(s/x)),o=[];for(let l=0;l<e;l+=1){const e=new Date(i.getTime()+l*O),n=r.A.getWeather(t,e);o.push({time:e,condition:n})}return o};class p{static getFavorability(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.A.ZONE_BOZJAN_SOUTHERN_FRONT,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const i=((e,n,t)=>{const a=Math.floor(n/O),s=n%O/n,i={};for(let r=0;r<e.length-a-1;r+=1){let n=0;for(let s=0;s<a;s+=1){const a=e[r+s],i=t.conditions[a.condition];null!=i&&(n>0&&(n+=t.combinations),n+=i)}const o=e[r+a],l=t.conditions[o.condition];null!=l&&(n>0&&(n+=t.combinations*s),n+=l*s),n>0&&(i[e[r].time]={startingTime:e[r].time,favorability:n})}return i})(j(n,t,a),e,s);var o,l;return((e,n,t)=>{const a=[];for(let s=0;s<e.length;s+=1){const i=Math.ceil(n/O),r=j(i,e[s].startingTime,t);a.push({startingTime:e[s].startingTime,duration:n,favorability:e[s].favorability,conditions:r})}return a})((o=i,l=10,(0,_.A)(o,(e=>-e.favorability)).slice(0,l)),e,a)}}p.ZoneMapping=T;const v=p;var Z=t(9974),R=t(2789),L=t(9423),b=t(1958);function C(e){let{location:n,sessionLength:t,searchDuration:a,startTime:r}=e;return(0,m.jsxs)(i.A,{spacing:1,children:[(0,m.jsx)(s.A,{sx:{paddingTop:"16px",paddingBottom:"12px"},children:(0,m.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold"},children:"Results"})}),(0,m.jsxs)(A.Ay,{container:!0,spacing:0,children:[(0,m.jsxs)(A.Ay,{item:!0,xs:!0,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Location"}),(0,m.jsxs)(i.A,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(Z.A,{}),(0,m.jsx)(d.A,{children:v.ZoneMapping[n]})]})]}),(0,m.jsxs)(A.Ay,{item:!0,xs:!0,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Session length"}),(0,m.jsxs)(i.A,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(R.A,{}),(0,m.jsxs)(d.A,{children:[t," ","minutes"]})]})]}),(0,m.jsxs)(A.Ay,{item:!0,xs:!0,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Search duration"}),(0,m.jsxs)(i.A,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(b.A,{}),(0,m.jsxs)(d.A,{children:[a," ","days"]})]})]}),(0,m.jsxs)(A.Ay,{item:!0,xs:!0,children:[(0,m.jsx)(d.A,{variant:"overline",children:"Start Time"}),(0,m.jsxs)(i.A,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(L.A,{}),(0,m.jsx)(d.A,{children:r.toLocaleString("en-US",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"})})]})]})]})]})}function H(e){let{location:n,searchDuration:t,sessionLength:a,startDate:s,ranking:i}=e;const r=v.getFavorability(6e4*a,Math.ceil(61.71429*t),s,n,i);return(0,m.jsx)("div",{className:"ForecastResults",children:(0,m.jsxs)(o.A,{className:"ForecastResultsPaper",elevation:1,children:[(0,m.jsx)(C,{location:n,searchDuration:t,sessionLength:a,startTime:s}),(0,m.jsx)("div",{className:"ForecastResultsContainer",children:r.map((e=>(0,m.jsx)(S,{data:e},"favorability-".concat((0,l.A)()))))})]})})}var y=t(2555),D=t(1906),f=t(1962),k=t(3193),I=t(8356),U=t(8734),M=t(1449),w=t(9859),W=t(598),F=t(9070),G=t(7784),P=t(4511),B=t(1828),K=t(7127),z=t(1690),V=t(9850);function Y(e){let{location:n,startDate:t,ranking:s,handleSubmit:i}=e;const r={conditions:{"Dust Storms":4,Wind:2,Thunder:1},combinations:2,type:"fragment"},l={conditions:{},combinations:2,type:"custom"},[c,h]=(0,a.useState)(n),[E,N]=(0,a.useState)(t),[g,S]=(0,a.useState)(180),[_,x]=(0,a.useState)(7),[O,T]=(0,a.useState)(s),j=(0,a.useCallback)((e=>{h(e.target.value)}),[h]),p=(0,a.useCallback)((e=>{N(e.toDate())}),[N]),Z=(0,a.useCallback)((e=>{e.target.value!==g&&S(e.target.value)}),[g,S]),R=(0,a.useCallback)((e=>{e.target.value!==_&&x(e.target.value)}),[_,x]),L=(0,a.useCallback)((e=>"".concat(e," min"))),b=(0,a.useCallback)((e=>"".concat(e," days"))),C=(0,a.useCallback)(((e,n)=>{"fragment"===n?T(r):"custom"===n&&T(l)}),[l,r,T]),H=(0,a.useCallback)((e=>{const n=e.target.value,t={};for(let s=0;s<n.length;s+=1)t[n[s]]=2;const a={conditions:t,combinations:O.combinations,type:O.type};T(a)}),[O,T]),Y=(0,a.useCallback)((()=>{i({locationState:c,startDateState:E,sessionLengthState:g,searchDurationState:_,rankingState:O})}),[i,c,E,g,_,O]),J={PaperProps:{style:{maxHeight:368,width:250}}};return(0,m.jsx)("div",{className:"ForecastOptionsSelector",children:(0,m.jsxs)(o.A,{className:"ForecastOptionsPaper",elevation:1,children:[(0,m.jsxs)(A.Ay,{container:!0,spacing:2,justifyContent:"center",children:[(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsxs)(B.A,{color:"primary",value:O.type,exclusive:!0,onChange:C,children:[(0,m.jsx)(P.A,{value:"fragment",children:"Fragment Farming"}),(0,m.jsx)(P.A,{value:"custom",children:"Select Conditions"})]})}),(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsxs)(k.A,{sx:{m:1,width:300},children:[(0,m.jsx)(I.A,{id:"forecast-weather-condition-select-label",children:"Conditions"}),(0,m.jsx)(W.A,{labelId:"forecast-weather-condition-select-label",id:"forecast-weather-condition-select",multiple:!0,value:Object.keys(O.conditions),input:(0,m.jsx)(w.A,{label:"Conditions"}),renderValue:e=>e.join(", "),onChange:H,MenuProps:J,disabled:"custom"!==O.type,children:["Astromagnetic Storm","Blizzards","Clear Skies","Clouds","Dust Storms","Fair Skies","Fog","Gales","Gloom","Heat Waves","Moon Dust","Rain","Showers","Snow","Thunder","Thunderstorms","Umbral Static","Umbral Wind","Wind"].map((e=>(0,m.jsxs)(M.A,{value:e,children:[(0,m.jsx)(f.A,{checked:null!=O.conditions[e]}),(0,m.jsx)(U.A,{primary:e})]},e)))})]})})]}),(0,m.jsxs)(A.Ay,{container:!0,spacing:2,justifyContent:"center",children:[(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsxs)(k.A,{children:[(0,m.jsx)(I.A,{id:"forecast-location-select-label",children:"Location"}),(0,m.jsx)(W.A,{labelId:"forecast-location-select-label",id:"forecast-location-select",value:c,label:"Location",onChange:j,children:Object.keys(v.ZoneMapping).map((e=>(0,m.jsx)(M.A,{value:e,children:v.ZoneMapping[e]},e)))})]})}),(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsx)(z.$,{dateAdapter:K.R,children:(0,m.jsx)(V.K,{label:"Start date",value:E,onChange:p,renderInput:e=>(0,m.jsx)(G.A,(0,y.A)({},e))})})})]}),(0,m.jsxs)(A.Ay,{container:!0,spacing:2,justifyContent:"center",children:[(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsxs)(u.A,{children:[(0,m.jsx)(d.A,{gutterBottom:!0,children:"Session length"}),(0,m.jsx)(F.Ay,{"aria-label":"Session length",defaultValue:180,getAriaValueText:L,valueLabelDisplay:"auto",step:15,marks:[{value:60,label:"1h"},{value:120,label:"2h"},{value:180,label:"3h"},{value:240,label:"4h"},{value:300,label:"5h"},{value:360,label:"6h"}],min:15,max:360,onChange:Z})]})}),(0,m.jsx)(A.Ay,{item:!0,xs:4,sx:{p:4},children:(0,m.jsxs)(u.A,{children:[(0,m.jsx)(d.A,{gutterBottom:!0,children:"Search duration"}),(0,m.jsx)(F.Ay,{"aria-label":"Search duration",defaultValue:7,getAriaValueText:b,valueLabelDisplay:"auto",step:.5,marks:[{value:1,label:"1d"},{value:3,label:"3d"},{value:7,label:"1w"},{value:14,label:"2w"},{value:28,label:"4w"}],min:.5,max:28,onChange:R})]})})]}),(0,m.jsx)(D.A,{variant:"contained",onClick:Y,children:"Update"})]})})}function J(){const[e,n]=(0,a.useState)(r.A.ZONE_BOZJAN_SOUTHERN_FRONT),[t,o]=(0,a.useState)(new Date),[l,c]=(0,a.useState)(180),[A,d]=(0,a.useState)(7),[h,u]=(0,a.useState)({conditions:{"Dust Storms":4,Wind:2,Thunder:1},combinations:2,type:"fragment"}),E=(0,a.useCallback)((e=>{n(e.locationState),o(e.startDateState),c(e.sessionLengthState),d(e.searchDurationState),u(e.rankingState)}),[n,o,c,d,u]);return(0,m.jsx)(s.A,{maxWidth:"lg",children:(0,m.jsxs)(i.A,{spacing:2,sx:{paddingTop:6},children:[(0,m.jsx)(Y,{location:e,startDate:t,sessionLength:l,searchDuration:A,ranking:h,handleSubmit:E}),(0,m.jsx)(H,{location:e,startDate:t,sessionLength:l,searchDuration:A,ranking:h})]})})}}}]);
//# sourceMappingURL=552.f36274b3.chunk.js.map